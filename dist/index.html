<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>base app</title>
    <link rel="stylesheet" href="./poll.css"/>
</head>
<body>

  <div class="poll-container">
      <div class="poll-header">
          <div class="poll-present"></div>
          <div class="poll-header-info">
              <div class="poll-prise">
                  <h3>Главный приз:</h3>
                  <p><span class="js-poll-description"></span> <a href="https://www.cntraveller.ru/awards/about/" target="_blank">подробнее</a></p>
              </div>
              <div class="poll-question-remain js-poll-question-remain">
                  <p class="js-change-info">Осталось ответить на <span class="js-question-remain"></span>&nbsp;<span class="js-question-remain-text"></span></p>
                  <p>для того, чтобы принять участие в <a href="https://www.cntraveller.ru/awards/about/" target="_blank">конкурсе</a></p>
                  <div class="poll-sponsors js-poll-sponsors"></div>
              </div>
          </div>
      </div>
      <div class="poll-content">
          <div class="poll-bg">
              <div class="poll-bg-black"></div>
          </div>
          <div class="poll js-poll-init"></div>
      </div>
  </div>


  <script type="text/template" id="js-template-question">
      <p><span><%= number %></span><%= name %></p>
  </script>

  <script type="text/template" id="js-template-user-info">
      <p><span></span>Заполнить данные</p>
  </script>

  <script type="text/template" id="js-template-question-detail-text">
      <form class="question-detail-form">
          <h1><%= name %></h1>
          <p class="description"><%= description %></p>
          <label class="answer-area">
              <input type="text" class="js-field-answer" placeholder="Ваш ответ" value="" autocomplete="off" />
              <span class="error-text js-error-text"></span>
          </label>
          <div class="box-buttons">
              <!--<div class="btn -skip js-btn-skip">Пропустить</div>-->
              <button class="btn -answer js-btn-answer disabled">Ответить</button>
          </div>
      </form>
  </script>

  <script type="text/template" id="js-template-question-detail-select">
      <form class="question-detail-form">
          <h1><%= name %></h1>
          <p class="description"><%= description %></p>
          <label class="answer-area">
              <select class="js-selectize-poll" >
                  <option value="">Ваш ответ</option>
              </select>
              <span class="error-text js-error-text"></span>
          </label>
          <div class="box-buttons">
              <!--<div class="btn -skip js-btn-skip">Пропустить</div>-->
              <button class="btn -answer js-btn-answer disabled">Ответить</button>
          </div>
      </form>
  </script>

  <script type="text/template" id="js-template-user-info-detail">
      <form class="question-detail-form -user js-parsley-form">
          <h1>Спасибо за ответы на вопросы.<br />Заполните форму участника для того чтобы мы могли с вами связаться</h1>
          <label class="info label-first-name"><span>Имя</span>
              <input type="text" id="js-first-name" value="" autocomplete="off" required />
          </label>
          <label class="info label-last-name"><span>Фамилия</span>
              <input type="text" id="js-last-name" value="" autocomplete="off" required />
          </label>
          <label class="info label-phone"><span>Телефон</span>
              <input type="text" id="js-phone" value="" autocomplete="off" required />
          </label>
          <label class="info label-email"><span>Email</span>
              <input type="text" id="js-email" value="" autocomplete="off" required />
          </label>
          <div class="box-agree">
              <label class="label-agree">
                  <input type="checkbox" id="js-agree-partisipation" checked />
                  <label class="checkbox" for="js-agree-partisipation"></label>
                  Я согласен с <a href="#">правилами участия в конкурсе</a>
              </label>
              <label class="label-agree">
                  <input type="checkbox" id="js-agree-policy" checked />
                  <label class="checkbox" for="js-agree-policy"></label>
                  Я согласен на обработку персональных данных
              </label>
              <label class="label-agree">
                  <input type="checkbox" id="js-agree-news" checked />
                  <label class="checkbox" for="js-agree-news"></label>
                  Я хочу подписаться на новости сайта
              </label>
          </div>
          <div class="box-buttons">
              <button class="btn -answer js-btn-answer">Отправить</button>
          </div>
      </form>
  </script>

  <script type="text/template" id="js-template-thanks">
      <div class="thanks">
          <h1>Спасибо за ваши ответы!<br/>Теперь вы участвуете в конкурсе!</h1>
          <div class="box-social">
              <a class="fb" href="#"></a>
              <a class="vk" href="#"></a>
              <a class="twitter" href="#"></a>
              <a class="google" href="#"></a>
          </div>
          <div class="box-buttons">
              <div class="btn-return js-btn-return"><a href="https://cntraveller.ru">Вернуться на главную</a></div>
          </div>
      </div>
  </script>

  <!-- main js file -->
  <script src="poll.js"></script>

  <script>
    var pollInit = new app.poll('.js-poll-init', {
        urlGetPoll: "https://www.cntraveller.ru/api/poll/get_vote",
        urlSendAnswers: "https://www.cntraveller.ru/api/poll/save_result",
        urlGetAnswerData: "https://www.cntraveller.ru/api/poll/get_answer_data"

    });
  </script>

</body>
</html>
